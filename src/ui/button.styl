/**
 * @file button
 * @author musicode
 */

@import "../variable/button.styl"
@import "../mixin/button.styl"

+prefix-classes($ui-prefix)

    .button

        button()

        ui-brand-variant(
            reversed: true,
            each: @(bg = null, border = null, color = null) {

                background-color bg
                border 1px solid border
                color color

                ui-hover(bg, border, color)
                ui-active(bg, border, color)
                ui-disabled(bg, border, color)

            }
        )


        ui-size-variant(
            each: @(size) {
                // 下面的 : ; 如果不加会报错....
                font-size size['font'];
                line-height size['line-height'];
                padding: size['padding-vertical'] size['padding-horizontal']
            }
        )

        {$selector-round}
            ui-size-variant(
                each: @(size) {
                    border-radius size['round']
                }
            )

        {$selector-radius}
            ui-size-variant(
                each: @(size) {
                    border-radius size['radius']
                }
            )

        {$selector-fluid}
            ui-fluid()


    .buttons

        buttons()

        > .button

            // 避免出现两个边框
            margin-left -1px

            {$selector-first-child}
                margin-left 0

            {$selector-hover}
                position relative
                z-index 1

            {$selector-round},
            {$selector-radius}
                border-radius 0

            ui-size-variant(
                selector-append: $selector-round,
                selector-child: $selector-first-child,
                each: @(size) {
                    border-top-left-radius size['round'];
                    border-bottom-left-radius size['round']
                }
            )

            ui-size-variant(
                selector-append: $selector-round,
                selector-child: $selector-last-child,
                each: @(size) {
                    border-top-right-radius size['round'];
                    border-bottom-right-radius size['round']
                }
            )

            ui-size-variant(
                selector-append: $selector-radius,
                selector-child: $selector-first-child,
                each: @(size) {
                    border-top-left-radius size['radius'];
                    border-bottom-left-radius size['radius']
                }
            )

            ui-size-variant(
                selector-append: $selector-radius,
                selector-child: $selector-last-child,
                each: @(size) {
                    border-top-right-radius size['radius'];
                    border-bottom-right-radius size['radius']
                }
            )



