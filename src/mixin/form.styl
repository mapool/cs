/**
 * @file Form
 * @author musicode
 */

form-input()

    ui()

    display inline-block

    input&,
    > input
        ui-reset-input()


    textarea&,
    > textarea
        resize none


    ui-size-variant(
        selector-child: 'input&,>input,textarea&,>textarea',
        each: @(size) {
            ui-set('font-size', size['font'])
            ui-set('padding', size['padding-vertical'] size['padding-horizontal'])
        }
    )

    ui-size-variant(
        selector-child: 'div&,span&,label&',
        selector-grandchild: '>input,>textarea',
        each: @(size) {
            ui-set('font-size', size['font'])
            ui-set('padding', size['padding-vertical'] size['padding-horizontal'])
        }
    )


    input&,
    > input,
    textarea&,
    > textarea

        ui-reset-form-element()

        background-color $form-input-bg
        border 1px solid $form-input-border

        if $form-placeholder-color is a 'rgba'

            &::-webkit-input-placeholder
                color $form-placeholder-color

            &:-moz-placeholder
                color $form-placeholder-color

            &::-moz-placeholder
                color $form-placeholder-color

            &:-ms-input-placeholder
                color $form-placeholder-color

    div&,
    span&,
    label&

        position relative
        font-size 0

        ui-size-variant(
            each: @(size) {

                > {$selector-placeholder} {
                    ui-set('padding', size['padding-vertical'] size['padding-horizontal'])
                }

                > {$selector-placeholder},
                > {$selector-icon} {
                    ui-set('font-size', size['font'])
                }

                // icon 在左边
                > {$selector-icon} {
                    ui-set('left', size['padding-horizontal'])
                    ui-set('top', size['padding-vertical'])
                }

                > input + {$selector-icon} {
                    left auto
                    ui-set('right', size['padding-horizontal'])
                }

            }
        )

        if $form-placeholder-color is a 'rgba'

            {$selector-placeholder}
                ui-set('color', $form-placeholder-color)
                user-select none
                position absolute
                left 1px
                top 1px


        // 带 icon
        > {$selector-icon}
            position absolute

        // 带 button
        > {$selector-button}
            float left

        > {$selector-button} + input
            border-left 0
            border-top-left-radius 0
            border-bottom-left-radius 0

        > input + {$selector-button}
            float none

form-controls()

    font-size 0


