
ui()

    if @display == 'inline-block' or @display == 'inline'
        if !@vertical-align
            vertical-align baseline

    a&
        text-decoration none

    input&,
    button&
        outline 0
        border 0
        margin 0
        background-color transparent


ui-set(name, value)

    if value is a 'unit'
        if value > 0
            {name} value

    else if value
        {name} value


ui-opacity(value)

    ui-set('opacity', value)

    if $support-ie8 and value
        filter unquote('alpha(opacity=' + 100 * value + ')')


ui-inline-to-inline-block()

    a&,
    b&,
    i&,
    em&,
    span&,
    label&,
    strong&
        display inline-block


ui-fluid()

    display block
    width 100%


ui-justified(selector-item)

    display table

    {selector-item}
        display table-cell
        width 1%


ui-link(color, has-hover)

    color color
    text-decoration none

    if $support-mouse and has-hover
        {$selector-hover}
            color darken(color, 10%)
            text-decoration underline

ui-apply(
        style,
        selector = '',
        selector-child = '',
        selector-grandchild = '')

    if selector
        {selector}
            if selector-child
                {selector-child}
                    if selector-grandchild
                        {selector-grandchild}
                            style()
                    else
                        style()
            else
                style()
    else
        style()



ui-style(bg = null, border = null, color = null)

    if bg is a 'rgba'
        background-color bg

    if border is a 'rgba'
        border-color border

    if color is a 'rgba'
        color color



ui-hover(bg = null, border = null, color = null, selector = $selector-hover)

    ui-apply(
        selector: selector,
        style: @() {
            ui-style(
                border: darken(border, 6%),
                color: darken(color, 5%),
                bg: darken(bg, 6%)
            )
        }
    )



ui-active(bg = null, border = null, color = null, selector = $selector-active)

    ui-apply(
        selector: selector,
        style: @() {
            ui-style(
                border: darken(border, 14%),
                color: darken(color, 5%),
                bg: darken(bg, 14%)
            )
        }
    )



ui-checked(bg = null, border = null, color = null, selector = $selector-checked)

    ui-apply(
        selector: selector,
        style: @() {
            cursor $cursor-checked
            ui-style(
                border: darken(border, 14%),
                color: darken(color, 5%),
                bg: darken(bg, 14%)
            )
        }
    )




ui-disabled(bg = null, border = null, color = null, selector = $selector-disabled)

    ui-apply(
        selector: selector,
        style: @() {
            cursor $cursor-disabled

            border = lighten(border, 30%)
            color = lighten(color, 60%)
            bg = lighten(bg, 35%)

            ui-style(
                border: border,
                color: color,
                bg: bg
            )

            if ($support-mouse) {

                {$selector-hover},
                {$selector-active} {
                    ui-style(
                        border: border,
                        color: color,
                        bg: bg
                    )
                }
            }
        }
    )




ui-variant(
            hash,
            each,
            selector-append = '',
            selector-child = '',
            selector-grandchild = '')

    for name in hash

        selector = '&'

        if name
            selector += '.' + name

        if selector-append
            selector += selector-append;

        ui-apply(
            selector: selector,
            selector-child: selector-child,
            selector-grandchild: selector-grandchild,
            style: @() {
                each(hash[name])
            }
        )



ui-brand-variant(
                each,
                level = 'base',
                reversed = false,
                brand-hash = $brand-hash,
                selector-append = '',
                selector-child = '',
                selector-grandchild = '')

    ui-variant(
        hash: brand-hash,
        selector-append: selector-append,
        selector-child: selector-child,
        selector-grandchild: selector-grandchild,
        each: @(item) {

            color = item[level]
            bg = item[level + '-reversed']

            if reversed {
                color = item[level + '-reversed']
                bg = item[level]
            }

            border = darken(bg, 20%)

            each(
                bg: bg,
                color: color,
                border: border
            )

        }
    )



ui-size-variant(
                each,
                size-hash = $size-hash,
                selector-append = '',
                selector-child = '',
                selector-grandchild = '')

    ui-variant(
        hash: size-hash,
        selector-append: selector-append,
        selector-child: selector-child,
        selector-grandchild: selector-grandchild,
        each: @(item) {
            each(item)
        }
    )

