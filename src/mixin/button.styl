/**
 * @file Button
 * @author musicode
 */

button-reset()

    a&
        ui-set('color', $brand-text)
        text-decoration none

    button&
        outline 0


button-size(size)

    ui-set('font-size', size['font'])
    ui-set('line-height', size['line-height'])
    ui-set('padding', size['padding-vertical'] size['padding-horizontal'])


button-brand(bg, border, color)

    ui-set('background-color', bg)
    ui-set('border-color', border)
    ui-set('color', color)

    ui-hover(bg, border, color)
    ui-active(bg, border, color)
    ui-disabled(bg, border, color)


ui-button()

    border 1px solid transparent
    display inline-block
    text-align center
    white-space nowrap
    user-select none

    button-reset()

    if $support-mouse
        ui-set('cursor', $cursor-clickable)


    {$selector-hover}
        ui-transition(color)
        ui-set('color', $brand-text-hover)

    ui()

    ui-brand-variant(
        reversed: true,
        each: button-brand
    )

    ui-size-variant(
        each: @(size) {

            button-size(size)

            &{$selector-round} {
                ui-set('border-radius', size['round'])
            }
            &{$selector-radius} {
                ui-set('border-radius', size['radius'])
            }

        }
    )

    > {$selector-text}
        font inherit

    > {$selector-icon} + {$selector-text},
    > {$selector-text} + {$selector-icon} {
        ui-set('margin-left', $button-icon-gap)
    }


ui-buttons()

    ui-collection(
        selector-item: $selector-button,
        each: @(size) {

            > {$selector-button} {
                button-size(size)
            }

            {$selector-round} {
                > {$selector-button} {
                    ui-set('border-radius', size['round'])
                }
            }

            {$selector-radius} {
                > {$selector-button} {
                    ui-set('border-radius', size['radius'])
                }
            }

        }
    )


ui-buttons-tight()

    ui-collection-tight(
        selector-item: $selector-button,
        gap-item: -1px
    )

    if !$support-ie or !$support-ie8

        &{$selector-round},
        &{$selector-radius}
            > {$selector-button}

                &:not(:first-child):not(:last-child)
                    border-radius 0

                &:first-child
                    border-top-right-radius 0
                    border-bottom-right-radius 0

                &:last-child
                    border-top-left-radius 0
                    border-bottom-left-radius 0

    else

        > {$selector-button}
            border-radius 0

        side-radius = @(radius) {
            {$selector-first-child} {
                ui-set('border-top-left-radius', radius)
                ui-set('border-bottom-left-radius', radius)
            }
            {$selector-last-child} {
                ui-set('border-top-right-radius', radius)
                ui-set('border-bottom-right-radius', radius)
            }
        }

        ui-size-variant(
            each: @(size) {
                &{$selector-round} {
                    > {$selector-button} {
                        side-radius(size['round'])
                    }
                }
                &{$selector-radius} {
                    > {$selector-button} {
                        side-radius(size['radius'])
                    }
                }
            }
        )

