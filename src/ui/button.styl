/**
 * @file Button
 * @author musicode
 */

@import '../variable/button.styl'
@import '../mixin/button.styl'

+prefix-classes($ui-prefix)

    {$selector-button}

        button()

        ui-brand-variant(
            reversed: true,
            each: @(bg, border, color) {
                ui-style(bg, border, color)
                ui-hover(bg, border, color)
                ui-active(bg, border, color)
                ui-disabled(bg, border, color)
            }
        )

        ui-size-variant(
            each: @(size) {
                font-size size['font'];
                line-height size['line-height'];
                padding: size['padding-vertical'] size['padding-horizontal']
            }
        )

        {$selector-round}
            ui-size-variant(
                each: @(size) {
                    border-radius size['round']
                }
            )

        {$selector-radius}
            ui-size-variant(
                each: @(size) {
                    border-radius size['radius']
                }
            )

        {$selector-fluid}
            ui-fluid()


    {$selector-buttons}

        buttons()

        selector-item = ' > ' + $selector-buttons-item

        ui-size-variant(
            selector-child: selector-item,
            each: @(size) {
                font-size size['font'];
                line-height size['line-height'];
                padding: size['padding-vertical'] size['padding-horizontal']
            }
        )

        {selector-item}

            buttons-item()

            if $selector-buttons-item != $selector-button

                button()

                ui-brand-variant(
                    reversed: true,
                    each: @(bg, border, color) {
                        ui-style(bg, border, color)
                        ui-hover(bg, border, color)
                        ui-active(bg, border, color)
                        ui-disabled(bg, border, color)
                    }
                )

        {$selector-round}

            ui-size-variant(
                selector-child: selector-item,
                selector-grandchild: $selector-first-child,
                each: @(size) {
                    border-top-left-radius size['round'];
                    border-bottom-left-radius size['round']
                }
            )

            ui-size-variant(
                selector-child: selector-item,
                selector-grandchild: $selector-last-child,
                each: @(size) {
                    border-top-right-radius size['round'];
                    border-bottom-right-radius size['round']
                }
            )

        {$selector-radius}

            ui-size-variant(
                selector-child: selector-item,
                selector-grandchild: $selector-first-child,
                each: @(size) {
                    border-top-left-radius size['radius'];
                    border-bottom-left-radius size['radius']
                }
            )

            ui-size-variant(
                selector-child: selector-item,
                selector-grandchild: $selector-last-child,
                each: @(size) {
                    border-top-right-radius size['radius'];
                    border-bottom-right-radius size['radius']
                }
            )

